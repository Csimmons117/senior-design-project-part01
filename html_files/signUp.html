<!DOCTYPE html>
<html>
<head><title></title>
    <link rel="stylesheet" href="../index.css">
<script>
    window.addEventListener("load",start);
    function start(){
        //console.log("Hello World");

        const submissionButton=document.getElementsByClassName("submitButton");
        for (const button of submissionButton){
            button.addEventListener("click", formSubmitted);
        }

        document.querySelector('.studentID').addEventListener('input', function () {
        if (this.value.length > 9) {
        this.value = this.value.slice(0, 9);
        }
        });
    }

    function formSubmitted(){
        var caps = "false";
        var lowerCheck="";
        const firstName = document.getElementsByClassName("firstName")[0].value;
        const lastName  = document.getElementsByClassName("lastName") [0].value;
        const studentID = document.getElementsByClassName("studentID")[0].value;
        const email     = document.getElementsByClassName("email")    [0].value;
        const user      = document.getElementsByClassName("userName") [0].value; // getting the value of the username
        const password  = document.getElementsByClassName("password") [0].value;
       
        var first    =false;
        var last     =false;
        var id       =false;
        var Email    =false;
        var username =false;
        var pass     =false;

     //######## chatgpt
     document.querySelector('.studentID').addEventListener('input', function () {
        if (this.value.length > 9) {
        this.value = this.value.slice(0, 9);
        }
        });
    //######## Chatgpt



        // output for the data
        //const test   = document.getElementsByClassName("test")   [0];
        const userOutput    = document.getElementsByClassName("userOutput")  [0];
        const errorOutput   = document.getElementsByClassName("errorOutput") [0];
        const userOutput2   = document.getElementsByClassName("userOutput2") [0];
        const errorOutput2  = document.getElementsByClassName("errorOutput2")[0];
        const userOutput3   = document.getElementsByClassName("userOutput3") [0];
        const errorOutput3  = document.getElementsByClassName("errorOutput3")[0];
        const userOutput4   = document.getElementsByClassName("userOutput4") [0];
        const errorOutput4  = document.getElementsByClassName("errorOutput4")[0];
        const userOutput5   = document.getElementsByClassName("userOutput5") [0];
        const errorOutput5  = document.getElementsByClassName("errorOutput5")[0];
        const userOutput6   = document.getElementsByClassName("userOutput6") [0];
        const errorOutput6  = document.getElementsByClassName("errorOutput6")[0];
        const userOutput7   = document.getElementsByClassName("userOutput7") [0];
        const errorOutput7  = document.getElementsByClassName("errorOutput7")[0];
        //userOutput.textContent= "Hello " + user + "!";
        //Check user name\
        capsCheck = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";//26 
        lowerCheck = "abcdefghijklmnopqrstuvwxyz";
        numbers="1234567890";
        specialChar="!@#$%^&*(.)";

        // console.log("### First Name ###");
        const hasCapsFirst    = CapsCheck(firstName,capsCheck);
        const hasLowerFirst   = lowerCase(firstName,lowerCheck);
        const hasSpecialFirst = specialCHAR(firstName,specialChar);
        const hasNumberFirst  = numberCheck(firstName,numbers);
        
        if (!hasCapsFirst || !hasLowerFirst || hasSpecialFirst || hasNumberFirst && first){
            // console.log("Hello");
            errorOutput2.textContent = "You must have one upper case and lower case letter.";
            userOutput2.textContent = "";
            first=false; 
            
        }else{
            // console.log("World");
            userOutput2.textContent = "✓";// good
            errorOutput2.textContent = "";
            first = true;
        }
        
        // console.log("### Last Name ###");
        const lastCaps    = CapsCheck(lastName,capsCheck);      //worked
        const lastlower   = lowerCase(lastName,lowerCheck);     //worked 
        const lastSpecial = specialCHAR(lastName,specialChar);  //worked
        const lastNumber  = numberCheck(lastName,numbers);      //worked
        
        

        if (!lastCaps || !lastlower || lastSpecial || lastNumber){
            //console.log("helloworld");
            errorOutput3.textContent = "You must have one upper case and lower case letter.";
            userOutput3.textContent = "";
            last     =false;
            
        }else{
            userOutput3.textContent = "✓";//good
            errorOutput3.textContent = "";
            last     =true;
            
        }



        // might have to add something here to get the max limits

        // console.log("### StudentID ###");
        const IDCaps    = CapsCheck(studentID,capsCheck);      //worked
        const IDlower   = lowerCase(studentID,lowerCheck);     //worked 
        const IDSpecial = specialCHAR(studentID,specialChar);  //worked
        const IDNumber  = numberCheck(studentID,numbers);      //worked
        
        

        if (IDCaps || IDlower || IDSpecial || !IDNumber){
            //console.log("helloworld");
            
            errorOutput4.textContent = "Must enter your student ID";
            userOutput4.textContent = "";
            id       =false;
            
        }else{
            userOutput4.textContent = "✓";//good
            errorOutput4.textContent = "";
            id       =true;
            

        }

        // console.log("### Email ###");
        //const emailCaps    = CapsCheck(email,capsCheck);      //worked
        const emaillower   = lowerCase(email,lowerCheck);     //worked 
        const emailSpecial = specialCHAR(email,specialChar);  //worked
        const emailNumber  = numberCheck(email,numbers);      //worked
        // console.log("#################");
        //console.log(emailCaps);
        //console.log(emaillower);
        //console.log(emailSpecial);
        //console.log(emailNumber);
        //console.log("#################");

        if (!emaillower || !emailSpecial ){
            //console.log("helloworld");
            errorOutput5.textContent = "Must enter a valid email!";
            userOutput5.textContent = "";
            Email    =false;
            
            //test.textContent = email;
        }else{
            userOutput5.textContent = "✓";// good 
            errorOutput5.textContent = "";
            Email    =true;
            
        }

        //console.log("### Username ###");
        const hasCaps    = CapsCheck(user,capsCheck);      //worked
        const haslower   = lowerCase(user,lowerCheck);     //worked 
        const hasSpecial = specialCHAR(user,specialChar);  //worked
        const hasNumber  = numberCheck(user,numbers);      //worked
        
        

        if (!hasCaps || !haslower || !hasSpecial || !hasNumber){
            //console.log("helloworld");
            errorOutput6.textContent = "Must have an upper case , low case, special character, and at least one number.";
            userOutput6.textContent = "";
            username =false;
            
        }else{
            userOutput6.textContent = "✓";// good
            errorOutput6.textContent = "";
            username =true;
            
        }

        
        // console.log("### Password ###");
        const passCaps    = CapsCheck(password,capsCheck);      //worked
        const passlower   = lowerCase(password,lowerCheck);     //worked 
        const passSpecial = specialCHAR(password,specialChar);  //worked
        const passNumber  = numberCheck(password,numbers);      //worked
        
        

        if (!passCaps || !passlower || !passSpecial || !passNumber){
            //console.log("helloworld");
            errorOutput7.textContent = "Must have an upper case , low case, special character, and at least one number.";
            userOutput7.textContent = "";
            pass     =false;
            
        }else{
            userOutput7.textContent = "✓";// good
            errorOutput7.textContent = "";
            pass     =true;
            
        }


        console.log(first);
        console.log(last);
        console.log(id);
        console.log(Email);
        console.log(username);
        console.log(pass);
        

        if(!first||!last||!id||!Email||!username||!pass){

            alert("Retry data entered was not correct.");

        }else{
            alert('You are have entered the data correctly. \nYou are being redirected to the login page');
            window.location.href = './login.html';
        }



    }




    function CapsCheck(user,capsCheck){
        var caps;
        const userOutput = document.getElementsByClassName("userOutput")[0]; //this needs to be here to show the result 
        const errorOutput = document.getElementsByClassName("errorOutput")[0];
        caps=false;
        for (let i = 0 ;i < capsCheck.length; i++)
        {   
            for ( let j=0;j < user.length; j++ )
            {      
                 if (user.charAt(j)===capsCheck.charAt(i))
                 {
                    
                    result = user.charAt(j);
                    userOutput.textContent = result;
                    errorOutput.textContent = "";
                    //return capsCheck.charAt(i) ;
                    caps=true;
                    break;
                }
            }
            
            //console.log(caps);
        }// this is a block 

        if (caps === false){

            //console.log("no caps!!");
            return caps;
            
        }

        if(caps === true){
           // console.log("Caps found!!");
            return caps;
        }
        
        

    }// end of upper case





    function lowerCase(user,lowerCase){
        var lower;
        const userOutput = document.getElementsByClassName("userOutput")[0]; //this needs to be here to show the result 
        const errorOutput = document.getElementsByClassName("errorOutput")[0];
        lower=false;
        for (let i = 0 ;i < lowerCase.length; i++)
        {   
            for ( let j=0;j < user.length; j++ )
            {      
                 if (user.charAt(j)===lowerCase.charAt(i))
                 {
                    
                    result = user.charAt(j);
                    //userOutput.textContent = result;
                    errorOutput.textContent = "";
                    //return capsCheck.charAt(i) ;
                    lower=true;
                    break;
                }
            }
            
            //console.log(caps);
        }// this is a block 

        if (lower === false){

           // console.log("no lowercase letters found!!");
            return lower;
            
        }

        if(lower === true){
           // console.log("Lowercase letters found!!");
            return lower;
        }
        
        

    }//end of lowercase



    function specialCHAR(user,specialChar){
        var special;
        const userOutput = document.getElementsByClassName("userOutput")[0]; //this needs to be here to show the result 
        const errorOutput = document.getElementsByClassName("errorOutput")[0];
        special=false;
        for (let i = 0 ;i < specialChar.length; i++)
        {   
            for ( let j=0;j < user.length; j++ )
            {      
                 if (user.charAt(j)===specialChar.charAt(i))
                 {
                    
                    result = user.charAt(j);
                    // userOutput.textContent = result;
                    // errorOutput.textContent = "";
                    //return capsCheck.charAt(i) ;
                    special=true;
                    break;
                }
            }
            
            //console.log(caps);
        }// this is a block 

        if (special === false){
            //console.log("no special characters found!!");
            return special;
            
        }
        if(special === true){
            // console.log("Special Characters found!!");
            return special;
        }
        
        

    }// end of specialcharacters

    function numberCheck(user,numbers){
        var int;
        const userOutput = document.getElementsByClassName("userOutput")[0]; //this needs to be here to show the result 
        const errorOutput = document.getElementsByClassName("errorOutput")[0];
        int=false;
        for (let i = 0 ;i < numbers.length; i++)
        {   
            for ( let j=0;j < user.length; j++ )
            {      
                 if (user.charAt(j)===numbers.charAt(i))
                 {
                    
                    result = user.charAt(j);
                    userOutput.textContent = result;
                    errorOutput.textContent = "";
                    //return capsCheck.charAt(i) ;
                    int=true;
                    break;
                }
            }
            
            
        }// this is a block 

        if (int === false){

            // console.log("no numbers found!!");
            return int;
            
        }

        if(int === true){
            // console.log("numbers found!!");
            return int;
        }
        
        

    }// end of number checker
</script>


</head>
<div class="logoBox">
    <a href="../index.html"><img src="../pictures/unnamed-Photoroom.png" alt="Student Recreation Center" class="logo" ></li></a>
    <h1>Student Recreation Center</h1>
</div>
<hr>
<nav>
    <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="./staffMember.html">Staff Members</a></li>
    <li><a href="./events.html">Events</a></li><!--Upcoming Programs an Events-->
    <li><a href="./signUp.html">Registration</a></li>
    <li><a href="./login.html">Login</a></li>
    </ul>
</nav>


<body>
<div class="title">
    <h1>Sign Up Form</h1>
</div>



<br>
<br>
<div class="container">
 <form action="../php_files/user.php" method="POST" >

    Enter your firstname:
    <input type="text" name="firstName" placeholder="First name..." class="firstName" style="height: 30px; font-size: 20px;" ></input>
    <br>
    <div class="errorOutput2" style="color: black;"></div>
    <div class="userOutput2" style="color: black;"></div>
    <br>
    Enter your lastname:
    <input type="text" name="lastName" placeholder="Last name..." class="lastName" style="height: 30px; font-size: 20px;"></input>
    <br>
    <div class="errorOutput3" style="color: black;"></div>
    <div class="userOutput3" style="color: black;"></div>
    <br>
    Enter your Student ID Number:
    <input type="number" name="studentID" placeholder="studentID#..." maxlength="9"  class="studentID" style="height: 30px; font-size: 20px;"></input>
    <br>
    <div class="errorOutput4" style="color: black;"></div>
    <div class="userOutput4" style="color: black;"></div>
    <br>
    Enter your CSUN email:
    <input type="email" name="email" placeholder="CSUN Email..."  class="email" style="height: 30px; font-size: 20px;"></input>
    <br>
    <div class="errorOutput5" style="color: black;"></div>
    <div class="userOutput5" style="color: black;"></div>
    <div class="test" style="color: black;"></div>
    <br>
    Enter your username:
    <input type="text" name="userName" placeholder="Username..." class="userName" style="height: 30px; font-size: 20px;"></input>
    <br>
    <div class="errorOutput6" style="color: black;"></div>
    <div class="userOutput6" style="color: black;"></div>
    <br>
    Enter your password:
    <input type="password" name="password" placeholder="Password..."  class="password" style="height: 30px;font-size: 20px;"></input>
    <br>
    <div class="errorOutput7" style="color: black;"></div>
    <div class="userOutput7" style="color: black;"></div>
    <br>
    <input type="submit" value="Submit" class="submitButton" style="height: 40px; font-size: 30px;"></input>
    </form>



</div>
<div class="errorOutput" style="color: black;"></div>
<!--<div class="userOutput" style="color: black;"></div>-->
<footer class="footer">
    <p>© 2026 Student Recreation Center</p>
</footer>
</body>




    </html>